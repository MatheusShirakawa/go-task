<form class="rounded-xl overflow-hidden bg-white" [formGroup]="taskForm" (ngSubmit)="onFormSubmit()">
	<div class="flex gap-2 items-center p-4">
		<img class="w-5" src="images/icon-new-task.svg" alt=""/>
		<h1 class="font-semibold text-lg">
			{{ _data.mode === 'create' ? 'Criar Tarefa' : 'Editar Tarefa'}}
		</h1>
		<img (click)="closeModal()" class="ml-auto cursor-pointer w-5" src="images/icon-close.svg" alt=""/>
	</div>

	<div class="p-4 border-y border-[#d1d5db] flex flex-col gap-4">
		<label class="block">
			<p class="font-semibold text-sm mb-2">Nome</p>
			<input
				type="text"
				class="w-full border border-[#d1d5db] p-3 rounded-lg text-sm font-light text-[#89919f]" placeholder="Descreva o que deverá ser feito"
				formControlName="name"
			>
			@if(taskForm.get('name')?.invalid && taskForm.get('name')?.touched) {
				<p class="font-semibold text-sm text-red-500 pt-1">O campo é obrigatório e precisa ter no mínimo 10 caracteres</p>
			}
		</label>
		<label class="block">
			<p class="font-semibold text-sm mb-2">Descrição</p>
			<input
				type="text"
				class="w-full border border-[#d1d5db] p-3 rounded-lg text-sm font-light text-[#89919f]" placeholder="Adicione uma descrição"
				formControlName="description"
			>
			@if(taskForm.get('description')?.invalid && taskForm.get('description')?.touched) {
				<p class="font-semibold text-sm text-red-500 pt-1">O campo é obrigatório e precisa ter no mínimo 10 caracteres</p>
			}
		</label>
	</div>

	<div class="p-4 flex justify-end gap-4">
		<button (click)="closeModal()" class="py-3 px-4 bg-[#f0f0f0] hover:bg-[#e0e0e0] rounded-xl text-sm font-semibold cursor-pointer active:translate-y-1 duration-300 ease-in-out" type="button">Cancelar</button>
		<button
			class="{{`py-3 px-4 rounded-xl text-sm font-semibold cursor-pointer text-white
			${	taskForm.invalid
				? 'bg-[#d7d8d8]'
				: 'bg-[#2a89ef] hover:bg-[#1e6fdb] active:translate-y-1 duration-300 ease-in-out shadow-md shadow-blue-500'}`}}"
			[disabled]="taskForm.invalid"
			type="submit"
		>
			{{ _data.mode === 'create' ? 'Criar uma tarefa' : 'Salvar Alterações'}}
		</button>
	</div>
</form>
